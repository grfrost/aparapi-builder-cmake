diff --git a/src/cpp/Common.h b/src/cpp/Common.h
index bbbd303..db930b8 100644
--- a/src/cpp/Common.h
+++ b/src/cpp/Common.h
@@ -68,6 +68,7 @@
 #include <unistd.h>
 #endif
 
+#define CL_TARGET_OPENCL_VERSION 200
 #ifndef __APPLE__
 #include <CL/cl.h>
 #else
diff --git a/src/cpp/JNIExceptions.h b/src/cpp/JNIExceptions.h
index bcb44a0..e59cdf0 100644
--- a/src/cpp/JNIExceptions.h
+++ b/src/cpp/JNIExceptions.h
@@ -1,68 +1,68 @@
-/**
- * Copyright (c) 2016 - 2018 Syncleus, Inc.
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *     http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
-#include <jni.h>
-#include <string> 
-#include <stdio.h>
-#include <exception>
-#include "CLHelper.h"
- 
-#ifndef JNI_EXCEPTIONS_H
-#define JNI_EXCEPTIONS_H
-
-class JNIException : public std::exception {
-
-private:
-   std::string _message;
-
-public:
-
-   ~JNIException() throw () {
-   }
-
-   JNIException(std::string message) {      
-      _message = message;
-   }
-
-   JNIException(const JNIException& cle) {
-      _message = cle._message;
-   }
-
-   JNIException& operator=(const JNIException& cle) {
-      _message = cle._message;
-      return *this;
-   }
-
-   const char* message() {
-      return _message.c_str();
-   }
-
-   void printError() {
-      if(_message != "") {
-         fprintf(stderr, "!!!!!!! %s failed %s\n", message());
-      }
-   }
-
-   const char* what() {
-       return std::string("!!!!!!! " + _message + " failed\n").c_str();
-   }
-};
-
-
-jint throwAparapiJNIRuntimeException( JNIEnv *env, std::string message );
-
-jint throwAparapiJNIRuntimeException( JNIEnv *env, const char *message );
-
-#endif // JNI_EXCEPTIONS_H
+/**
+ * Copyright (c) 2016 - 2018 Syncleus, Inc.
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+#include <jni.h>
+#include <string> 
+#include <stdio.h>
+#include <exception>
+#include "CLHelper.h"
+ 
+#ifndef JNI_EXCEPTIONS_H
+#define JNI_EXCEPTIONS_H
+
+class JNIException : public std::exception {
+
+private:
+   std::string _message;
+
+public:
+
+   ~JNIException() throw () {
+   }
+
+   JNIException(std::string message) {      
+      _message = message;
+   }
+
+   JNIException(const JNIException& cle) {
+      _message = cle._message;
+   }
+
+   JNIException& operator=(const JNIException& cle) {
+      _message = cle._message;
+      return *this;
+   }
+
+   const char* message() {
+      return _message.c_str();
+   }
+
+   void printError() {
+      if(_message != "") {
+         fprintf(stderr, "!!!!!!! failed %s\n", _message.c_str());
+      }
+   }
+
+   const char* what() {
+       return std::string("!!!!!!! " + _message + " failed\n").c_str();
+   }
+};
+
+
+jint throwAparapiJNIRuntimeException( JNIEnv *env, std::string message );
+
+jint throwAparapiJNIRuntimeException( JNIEnv *env, const char *message );
+
+#endif // JNI_EXCEPTIONS_H
diff --git a/src/cpp/cltest.cpp b/src/cpp/cltest.cpp
index 1072732..e202d92 100644
--- a/src/cpp/cltest.cpp
+++ b/src/cpp/cltest.cpp
@@ -26,7 +26,7 @@
 #ifndef _WIN32
 #include <unistd.h>
 #endif
-
+#define CL_TARGET_OPENCL_VERSION 200
 #ifndef __APPLE__
 #include <CL/cl.h>
 #else
@@ -119,7 +119,7 @@ int main(int argc, char **argv){
       fprintf(stderr, "clGetPlatformIDs(0,NULL,&platformc) failed!\n%s\n", errString(status));
       exit(1);
    }
-   fprintf(stderr, "clGetPlatformIDs(0,NULL,&platformc) OK!\n", errString(status));
+   fprintf(stderr, "clGetPlatformIDs(0,NULL,&platformc) OK!\n");
    fprintf(stderr, "There %s %d platform%s\n", ((platformc==1)?"is":"are"), platformc, ((platformc==1)?"":"s"));
    cl_platform_id* platformIds = new cl_platform_id[platformc];
    status = clGetPlatformIDs(platformc, platformIds, NULL);
@@ -169,7 +169,11 @@ int main(int argc, char **argv){
                   deviceType &= ~CL_DEVICE_TYPE_ACCELERATOR;
                   fprintf(stderr, "Accelerator ");
                }
+#ifdef __APPLE__
                fprintf(stderr, "(0x%llx) ", deviceType);
+#else
+               fprintf(stderr, "(0x%lx) ", deviceType);
+#endif
                fprintf(stderr, "\n");
 
                cl_uint maxComputeUnits;
@@ -183,12 +187,12 @@ int main(int argc, char **argv){
                size_t *maxWorkItemSizes = new size_t[maxWorkItemDimensions];
                status = clGetDeviceInfo(deviceIds[deviceIdx], CL_DEVICE_MAX_WORK_ITEM_SIZES,  sizeof(size_t)*maxWorkItemDimensions, maxWorkItemSizes, NULL);
                for (unsigned dimIdx=0; dimIdx<maxWorkItemDimensions; dimIdx++){
-                  fprintf(stderr, "             dim[%d] = %d\n", dimIdx, maxWorkItemSizes[dimIdx]);
+                  fprintf(stderr, "             dim[%d] = %lu\n", dimIdx, maxWorkItemSizes[dimIdx]);
                }
 
                size_t maxWorkGroupSize;
                status = clGetDeviceInfo(deviceIds[deviceIdx], CL_DEVICE_MAX_WORK_GROUP_SIZE,  sizeof(maxWorkGroupSize), &maxWorkGroupSize, NULL);
-               fprintf(stderr, "         CL_DEVICE_MAX_WORK_GROUP_SIZE...... %u\n", maxWorkGroupSize);
+               fprintf(stderr, "         CL_DEVICE_MAX_WORK_GROUP_SIZE...... %lu\n", maxWorkGroupSize);
 
                cl_ulong maxMemAllocSize;
                status = clGetDeviceInfo(deviceIds[deviceIdx], CL_DEVICE_MAX_MEM_ALLOC_SIZE,  sizeof(maxMemAllocSize), &maxMemAllocSize, NULL);
diff --git a/src/cpp/runKernel/Aparapi.cpp b/src/cpp/runKernel/Aparapi.cpp
index 73d5bc1..b0ba571 100644
--- a/src/cpp/runKernel/Aparapi.cpp
+++ b/src/cpp/runKernel/Aparapi.cpp
@@ -1125,10 +1125,10 @@ void enqueueKernel(JNIContext* jniContext, Range& range, int passes, int argPos,
       targetWorkGroupSize *= range.localDims[i];
    }
    
-   if (targetWorkGroupSize > maxKernelWorkGroupSize) {
-      throw JNIException("Kernel overall local size: " + std::to_string(targetWorkGroupSize) + 
-                        " exceeds maximum kernel allowed local size of: " + std::to_string(maxKernelWorkGroupSize));
-   }
+//if (targetWorkGroupSize > maxKernelWorkGroupSize) {
+ //     throw JNIException("Kernel overall local size: " + std::to_string(targetWorkGroupSize) + 
+  //                      " exceeds maximum kernel allowed local size of: " + std::to_string(maxKernelWorkGroupSize));
+  // }
 
    cl_int status = CL_SUCCESS;
    for (int passid=0; passid < passes; passid++) {
